【数据结构泛刷】



1.http://codeforces.com/problemset/problem/1140/F

注：线段树维护一组set中最大值的变化，查询>=pos下标中值>=x的最小下标，在指定set中进一步维护或者查询




2.http://codeforces.com/problemset/problem/1140/F

注：经典的线段树分治，提取每个插入操作的存活周期，抹除删除操作

线段树标记永久化思想(一个周期分成log段)，在线段树上dfs，递归时执行插入操作，回溯时撤销

使用可撤销并查集(按秩启发式合并)，在叶节点状态回答询问

维护答案：刚开始每个横坐标和纵坐标单独一个集合，每个集合维护其中横纵坐标个数；

插入一条边，即可能合并两个集合，对答案贡献为numx[p]*numy[q] + numy[p]*numx[p]

注意撤销时的操作顺序，不要忘了维护并查集结构



3.http://codeforces.com/problemset/problem/13/E

注：简单分块+并查集，也可以用lct(注意模板中rev标记不能删除)


4.http://codeforces.com/problemset/problem/580/E

注：线段树区间替换，区间查询hash值



5.http://codeforces.com/problemset/problem/484/E

注：二分+可持久化线段树，离线从大到小插入权值，维护01串，查询区间最长"1"段的长度，典型的三段论线段树

特别注意：merge函数，不要把参数设置成const node &p形式，让其自然的拷贝，

避免x=merge(x,y)中x自更新不完全导致的错误


