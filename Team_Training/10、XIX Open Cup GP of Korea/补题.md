# 补题

## 题解

http://clatisus.com/XIX%20Open%20Cup%20named%20after%20E.V.%20Pankratiev.%20Grand%20Prix%20of%20Korea,%20Division%201?printable

https://wiki-calabash.icpc.camp/2018-2019%20XIX%20Open%20Cup,%20Grand%20Prix%20of%20Korea

https://codeforces.com/blog/entry/62435

## A

类似的技巧 http://clatisus.com/Discover%20Vladivostok%202018%20day%202#i.-kindom-and-roads

树链剖分，每条重链维护一个栈，栈内的元素 $(l, r, c)$ 表示这条重链上深度范围 $[l, r]$ 的边颜色是 $c$ 。修改操作只需要不断地将当前所在重链染色，跳到 top 的父亲即可。 每次修改会增加最多 $logn$ 个元素，因此总复杂度 $O(nlogn)$